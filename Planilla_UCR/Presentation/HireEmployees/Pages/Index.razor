@page "/Asociate_Employees"
@using Application.Employees
@using Domain.Employees.Entities
@using Presentation.Core.Components
@using Presentation.HireEmployees.Components
@inject NavigationManager nav
@inject IEmployeeService EmployeeService

@if (false)
{
    List<BreadcrumbItem> _items = new List<BreadcrumbItem>
    {
        new BreadcrumbItem("Proyectos", href: "#"),
        new BreadcrumbItem("Empleados", href: "#"),
    };

    <MudBreadcrumbs Items="_items" Separator=">"></MudBreadcrumbs>

    <MudPaper  Height="220px" Width="60%" Outlined="false" Class="border-none pa-4" Elevation="0">
    @*Employee list*@
    <MudTable Items="@Elements" Hover="true" Breakpoint="Breakpoint.Sm" Loading="@_loading" LoadingProgressColor="Color.Info">
        <HeaderContent>
            <MudTh>Foto de perfil</MudTh>
            <MudTh>Nombre</MudTh>
            <MudTh>Cedula</MudTh>
            <MudTh></MudTh>
        </HeaderContent>

        <RowTemplate>
            <MudTd DataLabel="IMG">IMG</MudTd>
            <MudTd DataLabel="Nombre">@context.Email</MudTd>
            <MudTd DataLabel="Cedula">Cedula1</MudTd>
            <MudTd DataLabel="">
                <MudSpacer></MudSpacer>
                @*Contract button *@
                <MudButton Variant="Variant.Filled" @onclick="@(e => GoToContractEmployee(@context.Email))" Color="Color.Secondary">
                    <MudText>
                    Contratar
                    </MudText> 
                </MudButton>
            </MudTd>
        </RowTemplate>
    </MudTable>
    <br />

    @*Create button *@
    <MudButton Variant="Variant.Filled" OnClick="GoToCreateEmployee" Color="Color.Secondary">
        <MudText> 
        Crear empleado
        </MudText> 
    </MudButton>
    </MudPaper>

}
else
{
    <Empty></Empty>
}

@code {
    private bool _hidePosition;
    private bool _loading;
    string employeeEmail;
    private IEnumerable<Employee> Elements = new List<Employee>() { new Employee("email2"), new Employee("emaile"),new Employee("emaile3") };   

    private void GoToCreateEmployee()
    {
        nav.NavigateTo("/Create_Employee");
    }

    private void GoToContractEmployee(String email)
    {
       nav.NavigateTo("/Contract/"+email);
    }

    private void test(int email)
    {
        nav.NavigateTo("/Contract/"+email);
    }
}
