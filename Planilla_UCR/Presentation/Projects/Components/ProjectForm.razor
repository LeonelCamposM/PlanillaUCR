@page "/projects"
@using Domain.Projects.DTOs
@using Application.Projects
@using Domain.Projects.Entities
@using Presentation.Core.Components
@using System.Text.RegularExpressions
@using System.ComponentModel.DataAnnotations

@inject IProjectService ProjectService

@*<div class="container">
    <h1>Projects</h1>
    <Loading IsLoading="_isLoading">
        @if (_isLoading)
        {
            <h4 class="text-danger">There are no projects currently registered.</h4>
        }
        else
        {
            <table>
                    <tr>
                        <td><strong>Id</strong></td>
                        <td><strong>Project name</strong></td>
                        <td><strong>Number of publications</strong></td>
                        <td><strong>Investigation Group name</strong></td>
                    </tr>

                    @foreach (var project in _projects)
                    {
                        <tr>
                            <td align="center">@project.Id</td>
                            <td align="center">@project.Project_Name</td>
                            <td align="center">@project.Publication</td>
                            <td align="center">@project.Group</td>
                        </tr>
                    }
            </table>
            
        }
    </Loading>
</div>*@

<MudText Typo="Typo.h6">MudBlazor is @Text</MudText>
<MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="ButtonOnClick">@ButtonText</MudButton>

@code {
    public string Text { get; set; } = "????";
    public string ButtonText { get; set; } = "Click Me";
    public int ButtonClicked { get; set; }

    void ButtonOnClick()
    {
        ButtonClicked += 1;
        Text = $"Awesome x {ButtonClicked}";
        ButtonText = "Click Me Again";
    }
}

@*@code {

    private bool _isLoading = true;
    private IEnumerable<ProjectDTO> _projects;

    protected override async Task OnInitializedAsync()
    {
        _projects = await ProjectService.GetAllProjectsAsync();
        _isLoading = false;
    }
}*@
